<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.8/c3.min.css" />
  </head>
  <body>
    <div id="chart"></div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.8/c3.min.js"></script>
    <script type="text/javascript">
      (function(){
        d3.xhr('./axis.json', 'text/plain', function(err, res){
          var config = JSON.parse(res.responseText);
          // If you can figure out how to do this better, please talk to @aendrew.
          config.axis.x.tick.format = function (b){return'series'===config.chartGlobalType&&'category'!==config.axis.x.type?config.axis.x.prefix+b.toFixed(config.axis.x.accuracy).toString()+config.axis.x.suffix:b;};
          config.axis.y.tick.format = function (b){return'series'===config.chartGlobalType&&'category'!==config.axis.y.type?config.axis.y.prefix+b.toFixed(config.axis.y.accuracy).toString()+config.axis.y.suffix:b;};
          config.axis.y2.tick.format = function (b){return'series'===config.chartGlobalType&&'category'!==config.axis.y2.type?config.axis.y2.prefix+b.toFixed(config.axis.y2.accuracy).toString()+config.axis.y2.suffix:b;};
          config.donut.label.format = function (b,c){return(100*c).toFixed(config.chartAccuracy)+'%';};
          config.pie.label.format = function (b,c){return(100*c).toFixed(config.chartAccuracy)+'%';};
          config.gauge.label.format = function (b,c){return(100*c).toFixed(config.chartAccuracy)+'%';};
          window.chart = c3.generate(config);
        });
      })();
    </script>
  </body>
</html>
